<!DOCTYPE html>
<html>

<head>
	<%- include ("../partials/commonhead") %>
</head>

<body class="sb-nav-fixed">
	<%- include ("../partials/header") %>
		<div id="layoutSidenav">
			<%- include ("../partials/sidebar") %>
				<div id="layoutSidenav_content">

					<main>
						<div class="container-fluid">
							<h1 class="mt-4">Add Product</h1>
							<ol class="breadcrumb mb-4">
								<li class="breadcrumb-item active">
									<div class="ml-auto"><a href="/">Home</a> > Add Product</div>
								</li>
							</ol>
							<div class="row">
								<div class="card col-md-4 mb-4">
									<div class="card-header">
										<i class="fas fa-barcode mr-1"></i>
										Add Category detail
									</div>
									<div class="card-body">
										<form action="/products/categories" method="POST">
											<div class="form-group">
												<label for="name">Category Name:</label>
												<input type="text" class="form-control" id="name" name="name" aria-describedby="name"
													placeholder="Enter Category Name">
											</div>
											<div class="form-group">
												<label for="description">Description:</label>
												<textarea name="description" placeholder="Enter Description" class="form-control"></textarea>
											</div>
											<button type="submit" name="add" class="btn btn-outline-success"> &nbsp;&nbsp;&nbsp; Add
												&nbsp;&nbsp;&nbsp; </button>
										</form>
									</div>
								</div>
								<div class="col-md-1"></div>
								<div class="card col-md-6 mb-4">
									<div class="card-header">
										<i class="fas fa-barcode mr-1"></i>
										Categories List
									</div>
									<div class="card-body">
										<div class="table-responsive">
											<table class="table table-bordered" id="dataTable" width="100%" cellspacing="0">
												<thead>
													<tr>
														<th>Name</th>
														<th>Description</th>
														<th>Action</th>
													</tr>
												</thead>
												<!-- <tfoot>
										<tr>
												<th>Name</th>
												<th>Description</th>
												<th>Action</th>
										</tr>
								</tfoot> -->
												<tbody>
													<% for(let category of categories) { %>
														<tr>
															<td>
																<%= category.name %>
															</td>
															<td>
																<%= category.description %>
															</td>
															<td style="display: inline-block;">
																<a href="/products/categories/delete/<%= category._id %>"
																	class="btn btn-danger icon-btn"><i class="fa fa-trash"></i></a>
																<!-- <a href="" class="btn btn-info icon-btn"><i class="fa fa-edit"></i></a> -->
															</td>
														</tr>
														<% } %>
												</tbody>
											</table>
										</div>
									</div>
								</div>
							</div>
					</main>
				</div>
		</div>
		<%- include ("../partials/commonscripts") %>
			<script>
				$('.btn-delete').click(function (e) {
					e.preventDefault();
					const url = $(this).attr('href');
					swal
						.fire({
							title: 'Are you sure?',
							text: 'You wont be able to recover this User!',
							type: 'warning',
							showCancelButton: true,
							confirmButtonText: 'Yes, delete User!',
						})
						.then(function (result) {
							if (result.value) {
								window.location.href = url;
							}
						});
				});
			</script>
</body>